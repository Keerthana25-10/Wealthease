<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reminders for Monthly Bills</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background: #000;
      color: #000;
    }

    header {
      background: #b2f0e6;
      padding: 15px 30px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 15px;
    }

    header h1 {
      margin: 0;
      font-size: 28px;
      font-weight: 800;
      color: #111;
      font-family: 'Trebuchet MS', sans-serif;
    }

    header img {
      height: 55px;
    }

    .container {
      display: flex;
      justify-content: space-between;
      padding: 20px;
      gap: 20px;
    }

    .left-panel, .right-panel {
      flex: 1;
      border-radius: 10px;
      padding: 20px;
    }

    .left-panel {
      background: #b2f0e6;
    }

    .right-panel {
      background: #90ee90;
    }

    input, button {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    button {
      background: #da70d6;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background: #c71585;
    }

    #bill-list {
      background: #eee;
      padding: 10px;
      border-radius: 5px;
      min-height: 120px;
    }

    .bill-item {
      background: #fff;
      margin: 5px 0;
      padding: 8px;
      border-radius: 5px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .bill-item button {
      width: auto;
      margin-left: 10px;
      background: #444;
    }

    .bill-item button:hover {
      background: #000;
    }

    .calendar {
      margin-top: 20px;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .calendar-header button {
      width: auto;
      padding: 5px 10px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      text-align: center;
      margin-top: 10px;
    }

    th, td {
      padding: 10px;
    }

    td {
      border-radius: 5px;
      cursor: pointer;
    }

    td.due {
      background: #ff7f7f;
      color: white;
      font-weight: bold;
    }

    #upcoming-bill {
      font-weight: bold;
      margin-bottom: 10px;
      background: #fff;
      padding: 8px;
      border-radius: 5px;
    }
  </style>
</head>
<body>

<header>
  <img src="reminder.png" alt="Logo">
  <h1>REMINDERS FOR MONTHLY BILLS</h1>
</header>

<div class="container">
  <!-- Left Panel -->
  <div class="left-panel">
    <h2>Add New Monthly Bill</h2>
    <input type="text" id="bill-category" placeholder="Bill category">
    <input type="number" id="bill-amount" placeholder="Amount">
    <input type="date" id="bill-date">
    <button onclick="addBill()">Add Bill</button>

    <h3>Monthly Bills</h3>
    <div id="bill-list"></div>
  </div>

  <!-- Right Panel -->
  <div class="right-panel">
    <h2>Upcoming Bills</h2>
    <div id="upcoming-bill">No upcoming bills</div>

    <div class="calendar">
      <div class="calendar-header">
        <button onclick="prevMonth()">&#9664; Prev</button>
        <h3 id="monthYear"></h3>
        <button onclick="nextMonth()">Next &#9654;</button>
      </div>
      <table id="calendar-body"></table>
    </div>
  </div>
</div>

<script>
  let bills = JSON.parse(localStorage.getItem("bills")) || [];
  let currentDate = new Date();

  function saveBills() {
    localStorage.setItem("bills", JSON.stringify(bills));
  }

  function addBill() {
    const category = document.getElementById('bill-category').value;
    const amount = document.getElementById('bill-amount').value;
    const date = document.getElementById('bill-date').value;

    if (category && amount && date) {
      bills.push({ category, amount, date });
      saveBills();
      displayBills();
      renderCalendar();
      document.getElementById('bill-category').value = "";
      document.getElementById('bill-amount').value = "";
      document.getElementById('bill-date').value = "";
    }
  }

  function editBill(index) {
    let bill = bills[index];
    document.getElementById('bill-category').value = bill.category;
    document.getElementById('bill-amount').value = bill.amount;
    document.getElementById('bill-date').value = bill.date;

    // Remove the old bill so it can be updated
    bills.splice(index, 1);
    saveBills();
    displayBills();
    renderCalendar();
  }

  function displayBills() {
    const billList = document.getElementById('bill-list');
    billList.innerHTML = "";
    bills.forEach((bill, index) => {
      billList.innerHTML += `
        <div class="bill-item">
          <span>${bill.date} - ${bill.category}: ₹${bill.amount}</span>
          <button onclick="editBill(${index})">Edit</button>
        </div>
      `;
    });
  }

  function renderCalendar() {
    const month = currentDate.getMonth();
    const year = currentDate.getFullYear();

    document.getElementById('monthYear').innerText =
      currentDate.toLocaleString('default', { month: 'long' }) + " " + year;

    const firstDay = new Date(year, month, 1).getDay();
    const daysInMonth = new Date(year, month + 1, 0).getDate();

    const calendarBody = document.getElementById('calendar-body');
    calendarBody.innerHTML = `
      <tr>
        <th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th>
        <th>Thu</th><th>Fri</th><th>Sat</th>
      </tr>
    `;

    let date = 1;
    for (let i = 0; i < 6; i++) {
      let row = "<tr>";
      for (let j = 0; j < 7; j++) {
        if (i === 0 && j < firstDay) {
          row += "<td></td>";
        } else if (date > daysInMonth) {
          break;
        } else {
          let fullDate = `${year}-${String(month+1).padStart(2,'0')}-${String(date).padStart(2,'0')}`;
          let billDue = bills.find(b => b.date === fullDate);
          row += billDue
            ? `<td class="due">${date}</td>`
            : `<td>${date}</td>`;
          date++;
        }
      }
      row += "</tr>";
      calendarBody.innerHTML += row;
    }

    updateUpcomingBill();
  }

  function updateUpcomingBill() {
    let today = new Date().toISOString().split("T")[0];
    let futureBills = bills.filter(b => b.date >= today);
    futureBills.sort((a, b) => new Date(a.date) - new Date(b.date));

    document.getElementById('upcoming-bill').innerText =
      futureBills.length > 0
        ? `Next: ${futureBills[0].category}, ₹${futureBills[0].amount} on ${futureBills[0].date}`
        : "No upcoming bills";
  }

  function prevMonth() {
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar();
  }

  function nextMonth() {
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar();
  }

  // Initialize
  displayBills();
  renderCalendar();
</script>

</body>
</html>
